package entities;

import java.util.Calendar;
import java.util.Date;
import java.util.GregorianCalendar;

import android.util.Log;
public class Data {

	private Calendar data;

	public Data() {
		Calendar calendar = new GregorianCalendar();
		this.data = somarData(0, new Data(calendar.get(Calendar.DAY_OF_MONTH),
										  calendar.get(Calendar.MONTH),
										  calendar.get(Calendar.YEAR)).getData());
	}

	public Data(int dia, int mes, int ano) {
		this.data = somarData(0, new GregorianCalendar(ano, mes, dia));
	}
	
	public long convertDateToMilissegundos(Calendar data){
		return data.getTimeInMillis();
	}
	
	public Calendar getData() {
		return data;
	}
	
	private static Calendar somarData(int dias, Calendar data) {
		Calendar c = new GregorianCalendar(data.get(Calendar.YEAR), data.get(Calendar.MONTH),data.get(Calendar.DAY_OF_MONTH));
		Log.d("werton", c.get(Calendar.DATE));
		c.add(c.get(Calendar.DATE), dias);
		return c;
	}
	
	public boolean isSemana(Data data){
		Data dataAtual = new Data();
		long estremo1 = convertDateToMilissegundos(somarData(-6, dataAtual.getData()));
		long estremo2 = convertDateToMilissegundos(somarData(1, dataAtual.getData()));
		long dataParaComparacao = convertDateToMilissegundos(data.getData());
		
		return estremo1 <= dataParaComparacao &&  dataParaComparacao< estremo2;
	}
	
	public boolean is2SemanasPassada(Data data){
		Data dataAtual = new Data();
		long estremo1 = convertDateToMilissegundos(somarData(-20, dataAtual.getData()));
		long estremo2 = convertDateToMilissegundos(somarData(-6, dataAtual.getData()));
		long dataParaComparacao = convertDateToMilissegundos(data.getData());
		
		return estremo1 <= dataParaComparacao &&  dataParaComparacao< estremo2;
	}
}
